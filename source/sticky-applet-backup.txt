STICKY APPLET FUNCTIONALITY - BACKUP FOR FUTURE USE

This code was intended to create a floating "Show Applet" button that appears
when users scroll past an embedded applet, allowing them to pop it out into
a fixed overlay while continuing to read.

Add this to <docinfo> section in main.ptx:

      <html>
        <css><![CDATA[
.sticky-applet-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 9999;
  padding: 12px 20px;
  background: #4682b4;
  color: white;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  font-size: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  display: none;
}
.sticky-applet-toggle:hover {
  background: #5a9bd4;
}
        ]]></css>
        <js><![CDATA[
(function() {
  window.addEventListener('load', function() {
    var iframes = document.querySelectorAll('iframe[src*="rossmanchance.com"]');
    if (iframes.length === 0) return;
    
    var targetIframe = iframes[0];
    var toggleBtn = document.createElement('button');
    toggleBtn.className = 'sticky-applet-toggle';
    toggleBtn.innerHTML = 'ðŸ“Š Show Applet';
    document.body.appendChild(toggleBtn);
    
    var stickyContainer = document.createElement('div');
    stickyContainer.style.cssText = 'position:fixed;top:60px;right:20px;width:600px;height:500px;z-index:9998;background:white;border:3px solid #4682b4;box-shadow:0 4px 12px rgba(0,0,0,0.3);border-radius:8px;overflow:hidden;display:none;';
    
    var isSticky = false;
    
    function checkScroll() {
      var rect = targetIframe.getBoundingClientRect();
      var isVisible = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);
      
      if (!isVisible && !isSticky) {
        toggleBtn.style.display = 'block';
      } else if (isVisible && !isSticky) {
        toggleBtn.style.display = 'none';
      }
    }
    
    toggleBtn.addEventListener('click', function() {
      isSticky = true;
      toggleBtn.style.display = 'none';
      
      var clonedIframe = targetIframe.cloneNode(true);
      clonedIframe.style.width = '100%';
      clonedIframe.style.height = '100%';
      clonedIframe.style.border = 'none';
      
      var closeBtn = document.createElement('button');
      closeBtn.innerHTML = 'âœ•';
      closeBtn.style.cssText = 'position:absolute;top:8px;right:8px;background:#dc3545;color:white;border:none;border-radius:50%;width:35px;height:35px;cursor:pointer;font-size:20px;z-index:9999;line-height:1;';
      
      closeBtn.addEventListener('click', function() {
        stickyContainer.style.display = 'none';
        document.body.removeChild(stickyContainer);
        isSticky = false;
        checkScroll();
      });
      
      stickyContainer.innerHTML = '';
      stickyContainer.appendChild(clonedIframe);
      stickyContainer.appendChild(closeBtn);
      stickyContainer.style.display = 'block';
      document.body.appendChild(stickyContainer);
    });
    
    window.addEventListener('scroll', checkScroll);
    setTimeout(checkScroll, 1000);
  });
})();
        ]]></js>
      </html>

NOTES:
- This approach didn't work as expected in PreTeXt/Runestone environment
- May have caused issues with multiple choice questions rendering
- Future attempts should investigate:
  1. PreTeXt version compatibility (may need 2.33.2+)
  2. Runestone-specific JavaScript restrictions
  3. Alternative approaches using PreTeXt customization hooks
  4. Testing in isolated HTML build before Runestone deployment
