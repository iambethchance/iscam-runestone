<?xml version="1.0" encoding="UTF-8"?>
<section xml:id="investigationB">
  <title>Investigation B: Random Babies</title>
  
  <p>In the previous investigation, you looked at historical data for a subset of homes from a larger population. In this investigation, the goal is to explore a <em>random</em> process. We apologize in advance for the absurd but memorable process below. Other examples of a random process are coin flipping or lead measurements taken at different times from the same house.</p>
  
  <p>Suppose that on one night at a certain hospital, four mothers give birth to four babies. As a very sick joke, the hospital staff decides to return babies to their mothers completely at random. Our goal is to look for the pattern of outcomes from this process, with regard to the issue of how many mothers get the correct baby. This enables us to investigate the underlying properties of this child-returning process, such as the probability that at least one mother receives her own baby.</p>
  
  <exercise xml:id="random-babies-ex-a" label="B.1">
    <title>Initial Prediction</title>
    <statement>
      <p>Before we proceed, what do you think is more likely to happen: that no mothers get the correct baby, or that all four mothers get the correct baby? Write down your initial guess and explain your reasoning.</p>
    </statement>
    <response/>
  </exercise>
  
  <p>Because it is clearly not feasible to actually carry out this horrible child-returning process over and over again, we will instead <em>simulate</em> the random process to investigate what would happen in the long run. Suppose the four babies were named Murphy Miller, Wallis Williams, Bari Brown, and Shea Smith. Take four index cards and write the first name of each baby on a different card. Now take a sheet of paper and divide it into four regions, one for each mom. Next shuffle the index cards, face down, and randomly deal the babies back to the mothers. Flip the cards over and count the number of moms who received the correct baby.</p>
  
  <p>Carry out this physical simulation at least 5 times and record your results.</p>
  
  <exercise xml:id="random-babies-ex-b" label="B.2">
    <title>Conduct Physical Simulation</title>
    <statement>
      <p>How many mothers received the correct baby in each trial?</p>
    </statement>
    <hint>
      <p>Record the number of matches (0, 1, 2, or 4) for each of your 5 trials.</p>
    </hint>
    <solution>
      <p>Answers will vary, but most trials should result in 0 or 1 match. Zero matches and one match are the most common outcomes.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="random-babies-ex-c" label="B.3">
    <title>Identify Common Outcomes</title>
    <statement>
      <p>What was the most common outcome across your trials? What was the least common?</p>
    </statement>
    <hint>
      <p>Look at your results from the previous question - which number of matches appeared most frequently?</p>
    </hint>
    <solution>
      <p>The most common outcomes are typically 0 or 1 match. Having all 4 mothers receive the correct baby (4 matches) is very rare, as is having exactly 2 matches.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="random-babies-ex-d" label="B.4">
    <title>Check Extreme Outcomes</title>
    <statement>
      <p>Did any of your trials result in all four mothers receiving the correct baby? Did any result in exactly three mothers receiving the correct baby?</p>
    </statement>
    <hint>
      <p>Think about whether it's even possible for exactly three mothers to get the correct baby.</p>
    </hint>
    <solution>
      <p>It is very unlikely that all four mothers received the correct baby in just 5 trials. More importantly, it is <em>impossible</em> for exactly three mothers to receive the correct baby - if three mothers get the right baby, the fourth mother must also get the right baby!</p>
    </solution>
    <response/>
  </exercise>
  
  <subsection xml:id="simulation-analysis-b">
    <title>Simulation Analysis</title>
    
    <p>Now let's use technology to simulate this process many more times. <url href="https://www.rossmanchance.com/applets/2021/randombabies/RandomBabies.html?hideExtras=1" target="_blank">Open the Random Babies applet</url> and follow these steps:</p>
    
    <sidebyside widths="60% 35%" margins="0% 5%">
      <stack>
        <ul>
          <li>Press <alert>Randomize</alert>. Notice that the applet randomly returns babies to mothers and determines how many babies are returned to the correct home (by matching diaper colors). The applet also counts and graphs the resulting number of matches.</li>
          <li>Uncheck the <alert>Animate</alert> box and press <alert>Randomize</alert> a few more times. You should see the results accumulate in the table and the histogram.</li>
          <li>Click on the histogram bar representing the outcome of zero mothers receiving the correct baby. This shows you a "time plot" of the proportion of trials with 0 matches vs. the number of trials.</li>
          <li>Set the <alert>Number of trials</alert> to 100 and press <alert>Randomize</alert> a few times, noticing how the behavior of this graph changes.</li>
        </ul>
      </stack>
      
      <image source="randombabies-screenshot.png" width="100%">
        <description>Screenshot of Random Babies applet</description>
      </image>
    </sidebyside>
    
    <p>Run the applet for at least 1000 trials total.</p>
  </subsection>
  
  <exercise xml:id="random-babies-ex-e" label="B.5">
    <title>Run Applet Simulation</title>
    <statement>
      <p>What proportion of your trials resulted in zero mothers receiving the correct baby?</p>
    </statement>
    <hint>
      <p>Count the number of trials with 0 matches and divide by 1000.</p>
    </hint>
    <solution>
      <p>The proportion should be around 0.375. The exact theoretical probability is 9/24 = 0.375.</p>
    </solution>
    <answer>
      <p>0.375</p>
    </answer>
  </exercise>
  
  <exercise xml:id="random-babies-ex-f" label="B.6">
    <title>Estimate Probability</title>
    <statement>
      <p>Based on your simulation results, estimate the probability that at least one mother receives the correct baby.</p>
      <p>Probability = <var width="10" /></p>
    </statement>
    <setup>
      <var>
        <condition number="0.625" tolerance="0.05">
          <feedback>
            <p>Correct! If about 37.5% of trials had zero matches, then about 62.5% had at least one match. So <m>P(\text{at least one match}) \approx 1 - 0.375 = 0.625</m>.</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Think about the complement: if at least one mother gets the correct baby, that's the opposite of zero mothers getting the correct baby. Use <m>1 - P(\text{zero matches})</m>.</p>
          </feedback>
        </condition>
      </var>
    </setup>
    <hint>
      <p>Think about the complement: if at least one mother gets the correct baby, that's the opposite of zero mothers getting the correct baby.</p>
    </hint>
  </exercise>
  
  <assemblage xml:id="def-random-process">
    <title>Definition: Random Process and Probability</title>
    <p>A <term>random process</term><idx><h>random process</h><h>generates observations according to a random mechanism</h></idx> generates observations according to a random mechanism, like a coin toss. Whereas we can't predict each individual outcome with certainty, we do expect to see a long-run pattern to the results.</p>
    
    <p>The <term>probability</term><idx><h>probability</h><h>the long-run proportion of times an event occurs</h></idx> of a random event occurring is the <alert>long-run proportion</alert> (or <alert>relative frequency</alert>) of times that the event would occur if the random process were repeated over and over under identical conditions.</p>
    
    <p>You can <em>approximate</em> a probability by simulating (i.e., artificially recreating) the process many times. Simulation leads to an <em>empirical estimate</em> of the probability, which is the proportion of times that the event occurs in the simulated repetitions of the random process. Increasing the number of repetitions generally results in more accurate estimates of the long-run probabilities.</p>
  </assemblage>
  
  <exercise xml:id="random-babies-ex-g" label="B.7">
    <title>Compare to Initial Guess</title>
    <statement>
      <p>How does your empirical estimate from the simulation compare to your initial guess in checkpoint 2.20 (where you predicted whether zero matches or all four matches was more likely)?</p>
    </statement>
    <hint>
      <p>In checkpoint 2.20, you predicted whether it was more likely that no mothers get the correct baby or that all four mothers get the correct baby. Compare that prediction to what you observed in the simulation.</p>
    </hint>
    <solution>
      <p>Most people initially guess that having all four mothers get the correct baby is less likely than zero matches, and the simulation confirms this intuition. Zero matches occurs about 37.5% of the time, while all four matches occurs only about 4.2% of the time.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="random-babies-ex-h" label="B.8">
    <title>Understand Variability</title>
    <statement>
      <p>If you were to run another 1000 trials, would you expect to get exactly the same proportion of trials with zero matches? Explain.</p>
    </statement>
    <hint>
      <p>Think about natural variability in random processes.</p>
    </hint>
    <solution>
      <p>No, we would not expect to get exactly the same proportion. Due to random variability, the proportion will fluctuate somewhat from one set of 1000 trials to another. However, we would expect it to be close to the true probability (around 37.5%).</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="random-babies-ex-i" label="B.9">
    <title>Analyze Running Proportion</title>
    <statement>
      <p>Look at the time plot showing the running proportion of trials with 0 matches. What do you notice about the behavior of this proportion as the number of trials increases?</p>
    </statement>
    <hint>
      <p>Does the proportion stabilize or continue to vary wildly?</p>
    </hint>
    <solution>
      <p>As the number of trials increases, the running proportion tends to stabilize and converge to the true probability (around 0.375). The proportion varies more with fewer trials but becomes more consistent with more trials.</p>
    </solution>
    <response/>
  </exercise>
  
  <subsection xml:id="exact-analysis-b">
    <title>Exact Mathematical Analysis</title>
    
    <p>One disadvantage to using simulation to estimate a probability like this is that everyone will potentially obtain a different estimate. Even with a very large number of trials, your result will still only be an estimate of the actual long-run probability. For this particular scenario however, we can determine exact theoretical probabilities.</p>
    
    <p>First, let's list all possible outcomes for returning four babies to their mothers at random. We can organize our work by letting 1234 represent the outcome where the first baby went to the first mother, the second baby to the second mother, the third baby to the third mother, and the fourth baby to the fourth mother. In this scenario, all four mothers get the correct baby. As another example, 1243 means that the first two mothers get the right baby, but the third and fourth mothers have their babies switched.</p>
  
  <assemblage xml:id="def-sample-space">
    <title>Definition: Sample Space</title>
    <p>A <term>sample space</term><idx><h>sample space</h><h>a list of all possible outcomes of a random process</h></idx> is a list of all possible outcomes of a random process.</p>
  </assemblage>
  
  <p>All of the possible outcomes are listed below:</p>
  
  <p><alert>Sample Space:</alert></p>
  <table xml:id="table-sample-space-babies">
    <tabular>
      <row><cell>1234</cell><cell>1243</cell><cell>1324</cell><cell>1342</cell><cell>1423</cell><cell>1432</cell></row>
      <row><cell>2134</cell><cell>2143</cell><cell>2314</cell><cell>2341</cell><cell>2413</cell><cell>2431</cell></row>
      <row><cell>3124</cell><cell>3142</cell><cell>3214</cell><cell>3241</cell><cell>3412</cell><cell>3421</cell></row>
      <row><cell>4123</cell><cell>4132</cell><cell>4213</cell><cell>4231</cell><cell>4312</cell><cell>4321</cell></row>
    </tabular>
  </table>
  
  <p>In this case, returning the babies to the mothers completely at random implies that the outcomes in our sample space are equally likely to occur (<em>outcome probability</em> = 1 / <em>number of possible outcomes</em>).</p>
  
  <exercise xml:id="random-babies-ex-j" label="B.10">
    <title>Count Sample Space</title>
    <statement>
      <p>How many possible outcomes are there in the sample space? What is the probability of any one specific outcome (e.g., 1234)?</p>
      <p>Number of outcomes = <var width="5" /></p>
      <p>Probability = <var width="10" /></p>
    </statement>
    <setup>
      <var>
        <condition number="24">
          <feedback>
            <p>There are 24 possible outcomes in the sample space.</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="0.0417" tolerance="0.001">
          <feedback>
            <p>Each outcome has probability 1/24  0.0417.</p>
          </feedback>
        </condition>
      </var>
    </setup>
    <hint>
      <p>Count the total number of entries in the sample space table above. If all outcomes are equally likely, divide 1 by the total number of outcomes.</p>
    </hint>
  </exercise>
  
  <p>You could have determined the number of possible outcomes without having to list them first. For the first mother to receive a baby, she could receive any one of the four babies. Then there are three babies to choose from in giving a baby to the second mother. The third mother receives one of the two remaining babies and then the last baby goes to the fourth mother. Because the number of possibilities at one stage of this process does not depend on the outcome (which baby) of earlier stages, the total number of possibilities is the product <m>4 \times 3 \times 2 \times 1 = 24</m>. This is also known as <m>4!</m>, read "4 factorial." Because the above outcomes are equally likely, the probability of any one of the above outcomes occurring is <m>1/24</m>. Although these 24 outcomes are equally likely, we were more interested above in the probability of 0 matches, 1 match, etc.</p>
  
  <assemblage xml:id="def-random-variable">
    <title>Definition: Random Variable</title>
    <p>A <term>random variable</term><idx><h>random variable</h><h>maps outcomes of a random process to numerical values</h></idx> maps each possible outcome of the random process (the sample space) to a numerical value. We can then talk about the <em>probability distribution</em> of the random variable. These random variables are usually denoted by capital roman letters, e.g., <m>X</m>, <m>Y</m>. A random variable is <term>discrete</term><idx><h>discrete random variable</h><h>a random variable with countable possible values</h></idx> if you can list each individual value that can be observed for the random variable.</p>
  </assemblage>
  
  <exercise xml:id="random-babies-ex-k" label="B.11">
    <title>Identify Possible Values</title>
    <statement>
      <p>Define the random variable <m>X</m> to be the number of mothers who receive the correct baby. What are the possible values of <m>X</m>?</p>
    </statement>
    <hint>
      <p>Consider: Can you have 0 matches? 1 match? 2 matches? What about 3 matches - is that possible?</p>
    </hint>
    <answer>
      <p>The possible values are 0, 1, 2, and 4. (Note: 3 is not possible!)</p>
    </answer>
    <response/>
  </exercise>
  
  <exercise xml:id="random-babies-ex-l" label="B.12">
    <title>Count Outcomes for Each Value</title>
    <statement>
      <p>Go through the sample space and count how many outcomes result in each possible value of <m>X</m> (0, 1, 2, 3, or 4 matches).</p>
      <p>
        <tabular>
          <row header="yes">
            <cell>Number of Matches</cell>
            <cell>0</cell>
            <cell>1</cell>
            <cell>2</cell>
            <cell>3</cell>
            <cell>4</cell>
          </row>
          <row>
            <cell>Count</cell>
            <cell><var width="3" /></cell>
            <cell><var width="3" /></cell>
            <cell><var width="3" /></cell>
            <cell><var width="3" /></cell>
            <cell><var width="3" /></cell>
          </row>
        </tabular>
      </p>
    </statement>
    <setup>
      <var>
        <condition number="9">
          <feedback>
            <p>Correct! There are 9 outcomes with 0 matches.</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Count how many of the 24 outcomes have 0 matches.</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="8">
          <feedback>
            <p>Correct! There are 8 outcomes with 1 match.</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Count how many of the 24 outcomes have exactly 1 match.</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="6">
          <feedback>
            <p>Correct! There are 6 outcomes with 2 matches.</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Count how many of the 24 outcomes have exactly 2 matches.</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="0">
          <feedback>
            <p>Correct! It's impossible to have exactly 3 matches - if 3 mothers get the right baby, the 4th must too!</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Think carefully: if 3 mothers get the right baby, what about the 4th?</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="1">
          <feedback>
            <p>Correct! There is 1 outcome with 4 matches (1234).</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. How many outcomes have all 4 matches? Look for 1234.</p>
          </feedback>
        </condition>
      </var>
    </setup>
    <hint>
      <p>For each outcome like 1234 or 2143, count how many positions match (first baby to first mother, second to second, etc.)</p>
    </hint>
  </exercise>
  
  <assemblage xml:id="probability-rule-equally-likely">
    <title>Probability Rule</title>
    <p>When the outcomes in the sample space are equally likely, the probability of any one of a set of outcomes (an event) occurring is the number of outcomes in that set divided by the total number of outcomes in the sample space.</p>
  </assemblage>
  
  <p>Calculate the exact probability of each possible value of <m>X</m>.</p>
  
  <exercise xml:id="random-babies-ex-m" label="B.13">
    <title>Create Probability Distribution</title>
    <statement>
      <p>Create a probability distribution table showing <m>P(X = 0)</m>, <m>P(X = 1)</m>, <m>P(X = 2)</m>, <m>P(X = 3)</m>, and <m>P(X = 4)</m>.</p>
      <p>
        <tabular>
          <row header="yes">
            <cell><m>X</m></cell>
            <cell>0</cell>
            <cell>1</cell>
            <cell>2</cell>
            <cell>3</cell>
            <cell>4</cell>
          </row>
          <row>
            <cell><m>P(X)</m></cell>
            <cell><var width="8" /></cell>
            <cell><var width="8" /></cell>
            <cell><var width="8" /></cell>
            <cell><var width="8" /></cell>
            <cell><var width="8" /></cell>
          </row>
        </tabular>
      </p>
    </statement>
    <setup>
      <var>
        <condition number="0.375" tolerance="0.001">
          <feedback>
            <p>Correct! <m>P(X = 0) = 9/24 = 0.375</m></p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Divide the count of outcomes with 0 matches by 24.</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="0.333" tolerance="0.001">
          <feedback>
            <p>Correct! <m>P(X = 1) = 8/24 \approx 0.333</m></p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Divide the count of outcomes with 1 match by 24.</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="0.25" tolerance="0.001">
          <feedback>
            <p>Correct! <m>P(X = 2) = 6/24 = 0.25</m></p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Divide the count of outcomes with 2 matches by 24.</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="0">
          <feedback>
            <p>Correct! <m>P(X = 3) = 0</m> (impossible to have exactly 3 matches)</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Remember, it's impossible to have exactly 3 matches!</p>
          </feedback>
        </condition>
      </var>
      <var>
        <condition number="0.0417" tolerance="0.001">
          <feedback>
            <p>Correct! <m>P(X = 4) = 1/24 \approx 0.0417</m></p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Divide the count of outcomes with 4 matches by 24.</p>
          </feedback>
        </condition>
      </var>
    </setup>
    <hint>
      <p>Divide the count for each value by 24 (the total number of outcomes).</p>
    </hint>
  </exercise>
  
  <exercise xml:id="random-babies-ex-n" label="B.14">
    <title>Compare to Simulation</title>
    <statement>
      <p>How do your exact probabilities compare to the empirical estimates you obtained from the simulation?</p>
    </statement>
    <hint>
      <p>Look at the proportions from your 1000 trials - are they close to the theoretical probabilities?</p>
    </hint>
    <solution>
      <p>The simulation results should be fairly close to the exact probabilities, especially with 1000 or more trials. Small differences are expected due to random variability in the simulation.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="random-babies-ex-o" label="B.15">
    <title>Calculate Exact Probability</title>
    <statement>
      <p>Calculate the exact probability that at least one mother receives the correct baby.</p>
      <p>Probability = <var width="10" /></p>
    </statement>
    <setup>
      <var>
        <condition number="0.625" tolerance="0.01">
          <feedback>
            <p>Correct! <m>P(\text{at least one match}) = 1 - P(X = 0) = 1 - 9/24 = 15/24 = 0.625</m></p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Use the complement rule: <m>P(\text{at least one match}) = 1 - P(\text{zero matches})</m></p>
          </feedback>
        </condition>
      </var>
    </setup>
    <hint>
      <p>Use the complement rule: <m>P(\text{at least one match}) = 1 - P(\text{zero matches})</m></p>
    </hint>
  </exercise>
  
  <assemblage xml:id="probability-rules">
    <title>Probability Rules</title>
    <p><ul>
      <li><p>The sum of the probabilities for all possible outcomes equals one.</p></li>
      <li><p><term>Complement rule</term><idx><h>complement rule</h><h>probability of not A equals 1 minus probability of A</h></idx>: The probability of an event happening is one minus the probability of the event not happening.</p></li>
      <li><p><term>Addition rule for disjoint events</term><idx><h>addition rule</h><h>for mutually exclusive events, sum the probabilities</h></idx>: The probability of at least one of several events is the sum of the probabilities of those events as long as there are no outcomes in common across the events (i.e., the events are <term>mutually exclusive</term> or <term>disjoint</term>).</p></li>
    </ul></p>
  </assemblage>
  
  <p>We can also consider the <term>expected value</term><idx><h>expected value</h><h>the long-run average value of a random variable</h></idx> of the number of matches, which is interpreted as the long-run average value of the random variable. For a discrete random variable, <m>X</m>, we can calculate the expected value of the random variable <m>X</m>, denoted <m>E(X)</m>, by employing the idea of a weighted average of the different possible values of the random variable, but now the "weights" will be given by the probabilities of those values:</p>
  
  <p><me>E(X) = \sum (\text{value}) \times (\text{probability of value})</me></p>
  
  <exercise xml:id="random-babies-ex-p" label="B.16">
    <title>Calculate Expected Value</title>
    <statement>
      <p>Calculate the expected value <m>E(X)</m> for the number of mothers who receive the correct baby.</p>
      <p><m>E(X)</m> = <var width="10" /></p>
    </statement>
    <setup>
      <var>
        <condition number="1" tolerance="0.01">
          <feedback>
            <p>Correct! <m>E(X) = 0(9/24) + 1(8/24) + 2(6/24) + 4(1/24) = 0 + 8/24 + 12/24 + 4/24 = 24/24 = 1</m>. The expected number of matches is 1.</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Use the formula: <m>E(X) = 0 \times P(X=0) + 1 \times P(X=1) + 2 \times P(X=2) + 4 \times P(X=4)</m></p>
          </feedback>
        </condition>
      </var>
    </setup>
    <hint>
      <p>Use the formula: <m>E(X) = 0 \times P(X=0) + 1 \times P(X=1) + 2 \times P(X=2) + 4 \times P(X=4)</m></p>
    </hint>
  </exercise>
  
  <exercise xml:id="random-babies-ex-q" label="B.17">
    <title>Interpret Expected Value</title>
    <statement>
      <p>Interpret the expected value in context. Does this mean that in any given trial, we expect this many mothers to receive the correct baby?</p>
    </statement>
    <hint>
      <p>Remember that expected value is a long-run average, not a prediction for a single trial.</p>
    </hint>
    <solution>
      <p>The expected value of 1 means that in the long run, on average, 1 mother will receive the correct baby per trial. This does NOT mean that in any single trial we expect exactly 1 match - in fact, we could get 0, 1, 2, or 4 matches. The expected value is the average across many trials.</p>
    </solution>
    <response/>
  </exercise>
  
  <p>Notice that if we wanted to compute the average number of matches, say after 1000 trials, we would look at a weighted average:</p>
  
  <p><me>\bar{x} = \frac{1 + 0 + 2 + 0 + \cdots}{1000} = \frac{(\# \text{ of } 0\text{s}) \times 0 + (\# \text{ of } 1\text{s}) \times 1 + (\# \text{ of } 2\text{s}) \times 2 + (\# \text{ of } 4\text{s}) \times 4}{1000}</me></p>
  
  <p>But from the results we saw above, each term <m>(\#)/1000</m> converges to the probability of that outcome as we increase the number of repetitions, giving us the above formula for <m>E(X)</m>. So we will interpret the expected value as the long-run mean of the outcomes.</p>
  
  <p>Another property of a random variable is its <term>variance</term><idx><h>variance</h><h>measures variability in values of a random variable</h></idx>. This measures how variable the values of the random variable will be. For a discrete random variable, <m>X</m>, we can again use a type of weighted average, based on the probabilities of each value and the squared distances between the possible values of the random variable and the expected value.</p>
  
  <p><me>\text{Var}(X) = \sum_{\text{all possible values}} (\text{value} - E(X))^2 \times (\text{probability of value})</me></p>
  
  <exercise xml:id="random-babies-ex-r" label="B.18">
    <title>Calculate Variance</title>
    <statement>
      <p>Calculate the variance of <m>X</m>.</p>
      <p><m>\text{Var}(X)</m> = <var width="10" /></p>
    </statement>
    <setup>
      <var>
        <condition number="1" tolerance="0.01">
          <feedback>
            <p>Correct! <m>\text{Var}(X) = (0-1)^2(9/24) + (1-1)^2(8/24) + (2-1)^2(6/24) + (4-1)^2(1/24) = 1(9/24) + 0(8/24) + 1(6/24) + 9(1/24) = 9/24 + 6/24 + 9/24 = 24/24 = 1</m></p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Incorrect. Use the formula: <m>\text{Var}(X) = (0-1)^2(9/24) + (1-1)^2(8/24) + (2-1)^2(6/24) + (4-1)^2(1/24)</m></p>
          </feedback>
        </condition>
      </var>
    </setup>
    <hint>
      <p>Use the formula: <m>\text{Var}(X) = (0-1)^2(9/24) + (1-1)^2(8/24) + (2-1)^2(6/24) + (4-1)^2(1/24)</m></p>
    </hint>
  </exercise>
  
  <exercise xml:id="random-babies-ex-s" label="B.19">
    <title>Calculate Standard Deviation</title>
    <statement>
      <p>Calculate the standard deviation of <m>X</m> (the square root of the variance). Interpret this value in context.</p>
    </statement>
    <hint>
      <p>The standard deviation is <m>\sqrt{\text{Var}(X)}</m></p>
    </hint>
    <solution>
      <p><m>SD(X) = \sqrt{1} = 1</m>. The standard deviation of 1 means that the number of matches typically varies by about 1 from the expected value of 1 match.</p>
    </solution>
    <response/>
  </exercise>
  
  <p>We will interpret this standard deviation similarly to how we did in Investigation A: how far the outcomes tend to be from the expected value. Here we are talking in terms of the probability model; in Investigation A we were talking in terms of the historical data.</p>
  
  <exercise xml:id="random-babies-ex-t" label="B.20">
    <title>Verify with Simulation</title>
    <statement>
      <p>Go back to the Random Babies applet and run a large number of simulations (at least 10,000). Calculate the mean and standard deviation of your simulated results. How do these compare to the theoretical expected value and standard deviation you calculated?</p>
    </statement>
    <hint>
      <p>The simulated mean should be close to E(X) = 1, and the simulated SD should be close to SD(X) = 1.</p>
    </hint>
    <solution>
      <p>With a large number of simulations (10,000+), the mean should be very close to 1.0 and the standard deviation should be very close to 1.0, matching the theoretical values.</p>
    </solution>
    <response/>
  </exercise>
  </subsection>
  
  <subsection xml:id="discussion-b">
    <title>Discussion</title>
    
    <p>Notice that we have used two methods to answer questions about this random process:</p>
    <ul>
      <li><em>Simulation</em> - repeating the process under identical conditions a large number of times and seeing how often different outcomes occur.</li>
      <li><em>Exact mathematical calculations</em> using basic rules of probability and counting.</li>
    </ul>
    
    <p>This approach of looking at the analysis using both simulation and exact approaches will be a theme in this course. We will also consider some approximate mathematical models as well. You should consider these multiple approaches as a way to assess the appropriateness of each method. You should also be aware of situations where one method may be preferable to another and why.</p>
  </subsection>
  
  <subsection xml:id="practiceBA">
    <title>Practice Problem B.A</title>
    
    <p>Suppose three executives (Ari, Brooklyn, and Carson) drop their cell phones in an elevator and blindly pick them back up at random.</p>
    
    <exercise xml:id="practice-ba-a" label="PPB.A.1">
      <title>Sample Space for Three Executives</title>
      <statement>
        <p>Write out the sample space using <em>ABC</em> notation for the outcomes.</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-ba-b" label="PPB.A.2">
      <title>Exact Probability of Match</title>
      <statement>
        <p>Carry out the exact analysis to determine the probability of at least one executive receiving his or her own phone.</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-ba-c" label="PPB.A.3">
      <title>Expected Number of Matches</title>
      <statement>
        <p>Calculate the expected number of matches for 3 executives. How does this compare to the case with 4 mothers?</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-ba-d" label="PPB.A.4">
      <title>Verify with Applet</title>
      <statement>
        <p>Use the <url href="https://www.rossmanchance.com/applets/2021/randombabies/RandomBabies.html?hideExtras=1" target="_blank">Random Babies applet</url> to check your results.</p>
      </statement>
      <response/>
    </exercise>
  </subsection>
  
  <subsection xml:id="practiceBB">
    <title>Practice Problem B.B</title>
    
    <p>Reconsider the Random Babies scenario. Now suppose there were 8 mothers involved in this random process.</p>
    
    <exercise xml:id="practice-bb-a" label="PPB.B.1">
      <title>Probability All Correct</title>
      <statement>
        <p>Calculate the (exact) probability that all 8 mothers receive the correct baby. [<em>Hint</em>: First determine how many possible outcomes there are for returning 8 babies to their mothers.]</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-bb-b" label="PPB.B.2">
      <title>Probability Exactly Seven Correct</title>
      <statement>
        <p>Calculate the probability that exactly 7 mothers receive the correct baby.</p>
      </statement>
      <hint>
        <p>Think carefully: is it possible for exactly 7 mothers to get the correct baby?</p>
      </hint>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-bb-c" label="PPB.B.3">
      <title>Probability At Least One Correct</title>
      <statement>
        <p>Using the <url href="https://www.rossmanchance.com/applets/2021/randombabies/RandomBabies.html?hideExtras=1" target="_blank">Random Babies applet</url>, approximate the probability that at least one of the 8 mothers receives the correct baby. How does your approximation compare to the probability of this event with 4 mothers?</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-bb-d" label="PPB.B.4">
      <title>Expected Value for Eight Mothers</title>
      <statement>
        <p>Using the Random Babies applet, approximate the expected value for the number of the eight mothers receiving the correct baby. How does your approximation compare to the situation with 4 mothers?</p>
      </statement>
      <response/>
    </exercise>
  </subsection>
  
  <subsection xml:id="practiceBC">
    <title>Practice Problem B.C</title>
    
    <p>An American Roulette wheel consists of 18 black slots, 18 red slots, and 2 green slots. A ball is rolled while the wheel is spun and players can bet on which slot or type of slot the ball will end up in.</p>
    
    <exercise xml:id="practice-bc-a" label="PPB.C.1">
      <title>Probability of Winning Color Bet</title>
      <statement>
        <p>A common bet is color. If someone bets $1 on red, and the ball lands in any of the 18 red slots, the player wins $2 (a net profit of $1). What is the probability they will win their bet on red?</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-bc-b" label="PPB.C.2">
      <title>Interpret Probability</title>
      <statement>
        <p>Include a one-sentence interpretation of the probability you calculated in (a).</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-bc-c" label="PPB.C.3">
      <title>Probability of Winning Number Bet</title>
      <statement>
        <p>Another common bet is a number. If the ball lands on the chosen number, the player makes a profit of $35. What is the probability someone wins if they bet on a number?</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-bc-d" label="PPB.C.4">
      <title>Compare Expected Values</title>
      <statement>
        <p>Below are two graphs showing the average net winnings over 1000 simulated plays of a color bet and of a number bet. [<em>Hint:</em> What happened on the first 50 or so number bets?] Explain how you think the expected value (long-run average winnings) of each bet compares. Do they have the same sign?</p>
        <image source="roulette.png" width="70%">
          <description>Graph showing cumulative average net winnings over 1000 simulated plays for color bet (blue line) and number bet (red dashed line)</description>
        </image>
      </statement>
      <hint>
        <p>Look at where the graphs appear to be stabilizing as the number of plays increases. What does the long-run average appear to be approaching for each bet?</p>
      </hint>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-bc-e" label="PPB.C.5">
      <title>Calculate Expected Values</title>
      <statement>
        <p>Explain which bet displays a larger standard deviation.</p>
      </statement>
      <response/>
    </exercise>
  </subsection>
</section>


