<?xml version="1.0" encoding="UTF-8"?>
<section xml:id="inv-2-1">
  <title>Investigation 2.1: Birth Weights</title>
  <introduction>
    <p><em> In this investigation you will review traditional methods for describing the distribution 
    of a quantitative variable, including dotplots and histograms. 
    You will also learn how to use technology to create these displays and consider how to compare the observed distribution of 
    data to a mathematical model.</em></p>
  </introduction>
<exercises xml:id="investigation2-1" hidden-label="yes">
  <title>The Data</title>
  <introduction>
    <sidebyside widths="60% 35%" margins="0% 0%" valign="top">
      <stack>
        <p>The <url href="http://www.cdc.gov/nchs/data_access/Vitalstatsonline.htm">CDC's Vital Statistics Online Data Portal</url> allows you to download birth records for all births in the U.S. in a particular year.</p>
        
        <p><ul>
          <li><p>Open this website and follow the Downloadable Data Files link for Birth. How large is the zip file for the U.S. data in 2024?</p></li>
          <li><p>Open the <url href="https://ftp.cdc.gov/pub/Health_Statistics/NCHS/Dataset_Documentation/DVS/natality/UserGuide2023.pdf">User's Guide for 2024</url>. How many births were recorded for the U.S. in 2024?</p></li>
        </ul></p>
        
        </stack>
      <image source="images/Inv2.1intro.jpg" width="100%">
        <description>Birth weights introduction image</description>
      </image>
    </sidebyside>
  
  <p>According to this documentation file, how many total "positions" are there in the data file? What information is in the first 8 positions? What information is in the next 4 positions? How would you determine the birth month?</p>
  
        <p>The file <url href="http://www.rossmanchance.com/iscam4/data/USbirthsJan2024.txt">USbirthsJan2024.txt</url> contains information on the 297,798 births in January 2024, including birth weight (in grams), whether the baby was full term (gestation over 36 weeks), the 5 minute <url href="http://en.wikipedia.org/wiki/Apgar_score">apgar score</url> (an immediate measure of the infant's health), and the amount of weight gained by the mother during pregnancy (in lbs). The goal of this investigation is to build a model of how birth weights can be expected to behave in the future. In particular, we will ask questions such as: Can we use that model to make predictions about certain kinds of birth weights? How reliable will our estimates be?</p>
      
    <paragraphs>
      <title>Discussion</title>
      <p>If you were to download this file, it could take a minute. You would then need to unzip the file, which is then 5GB. This can be problematic to work with, especially if you were most interested in just a few of the variables. It can also be cumbersome to deal with all of the rows, especially if you just want to see general patterns. Most packages can now work with datafiles this large, but we are still pushing the limit a bit. JMP and R take a couple minutes to read in the data, and each row is still a single string (not separated into columns or tabs). One approach is to preprocess the data a bit before loading into the software package. Using a program like "awk" you can read in the data from specific positions (e.g., just the birth weights) or in R use read.fwf. Then a comma or tab delimited file would be much easier for the software to handle. <url href="https://www.rossmanchance.com/iscam4/in/CDCBirths.html">Guide for recreating the 2023 datafile</url>.</p>
    </paragraphs>
    
  </introduction>

  <paragraphs>
    <title>Exploring the Data</title>
    
  <exercise xml:id="inv2-1-a" label="I2.1a">
    <title>Representativeness of data</title>
    <statement>
      <p>Are these data likely to be representative of birth weights for all 3,638,436 U.S. births in 2024? Explain.</p>
    </statement>
    <solution>
      <p>If time of year or season is related to characteristics of babies when they are born, then this may not be representative for the rest of the year.</p>
    </solution>
    <response/>
  </exercise>    <exercise xml:id="inv2-1-b" label="I2.1b">
      <title>Variable type</title>
      <statement>
        <p>Is the variable <em>birthweight</em> quantitative or categorical?</p>
      </statement>
      <choices randomize="yes">
        <choice correct="yes">
          <statement>
            <p>Quantitative</p>
          </statement>
          <feedback>
            <p>Correct! Birth weight is measured in grams, making it a numerical (quantitative) variable.</p>
          </feedback>
        </choice>
        <choice>
          <statement>
            <p>Categorical</p>
          </statement>
          <feedback>
            <p>Not quite. Birth weight is a numerical measurement in grams, not a category.</p>
          </feedback>
        </choice>
      </choices>
    </exercise>
    
    <p>Our next step is to look at the data! As in Chapter 1, we will want to consider which graphical and numerical summaries reveal the most information about the distribution.</p>
  </paragraphs>
  
  <exercise xml:id="tech-detour-access-quantitative">
    <title>Technology Detour <mdash/> Loading in a Data File</title>
    <statement>
      <p>Access the <url href="http://www.rossmanchance.com/iscam4/data/USbirthsJan2024.txt">USbirthsJan2024.txt</url> data file and check that you have 297,798 rows of data.</p>
      <p>Number of observations: <var width="10"/></p>
          <hint>
      <title>R Instructions</title>
      <p><alert>Method 1: In RStudio using Import Dataset</alert></p>
      <p><ul>
        <li><p>Choose Import Dataset &gt; From Text (readr) and enter the URL, then press Import.</p>
          <p><ul>
            <li><p>URL: <url href="http://www.rossmanchance.com/iscam4/data/USbirthsJan2024.txt">http://www.rossmanchance.com/iscam4/data/USbirthsJan2024.txt</url></p></li>
            <li><p>Keep First Row as Names checked</p></li>
            <li><p>For ISCAM files, change the Delimiter to Tab.</p></li>
            <li><p>Press Update to preview the data.</p></li>
            <li><p>You can set the dataset name (e.g., <c>births</c>).</p></li>
            <li><p>Note: With other data files, you may need to consider how "missing values" are coded.</p></li>
          </ul></p>
        </li>
      </ul></p>
      <p><alert>Method 2: In R using URL directly</alert></p>
      <program language="r">
        <input>
births = read.table("http://www.rossmanchance.com/iscam4/data/USbirthsJan2024.txt", 
                    header=TRUE, sep="\t")
nrow(births)  # Check number of observations
        </input>
      </program>
      <p><alert>Method 3: In R using copy and paste</alert></p>
      <p>Open the data file link from the data files page, select all, copy, and then in R use the following command (Keep in mind that R is case sensitive):</p>
      <program language="r">
        <input>
# PC:
births = read.table("clipboard", header=TRUE)

# MAC:
births = read.table(pipe("pbpaste"), header=TRUE)
        </input>
      </program>
      <p>The <c>header</c> command indicates the variables have names.</p>
      <p><alert>Method 4: Txt files on your computer</alert></p>
      <program language="r">
        <input>
births = read.table(file.choose(), header=TRUE)
        </input>
      </program>
      <p><alert>Additional tips:</alert></p>
      <p><ul>
        <li><p>To see the data, type <c>View(births)</c> or <c>head(births)</c></p></li>
        <li><p>Next you can "attach" the file to be able to use variable names directly:</p>
          <program language="r">
            <input>
attach(births)    # Now R knows what the "birthweight" variable is
            </input>
          </program>
          <p>or you need to clarify to R which datafile you are using (e.g., <c>births$birthweight</c>).</p>
        </li>
        <li><p>Other input options, depending on how the data you are pasting is formatted, include:</p>
          <p><ul>
            <li><p><c>sep="\t"</c> separated by tabs</p></li>
            <li><p><c>na.strings="*"</c> how to code missing values</p></li>
            <li><p><c>strip.white=TRUE</c> strip extra white space</p></li>
          </ul></p>
        </li>
      </ul></p>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p><ul>
        <li><p>Choose File &gt; New &gt; Data table. Open the USbirthsJan2024.txt (raw data) link from the data files page and select all the observations and the variable names and copy the data into the clipboard. Return to the data table in JMP and select Edit &gt; Paste with Column Names.</p></li>
        <li><p>Or if the .txt file is saved on your computer, you can choose File &gt; Open and use the pull-down menu to change the file type.</p></li>
      </ul></p>
    </hint>
    </statement>
<setup>
        <var>
          <condition number="297798" tolerance="0">
            <feedback>
              <p>Correct! The dataset contains 297,798 observations.</p>
            </feedback>
          </condition>
          <condition string=".*">
            <feedback>
              <p>Check that you loaded the data correctly. Use nrow() in R or check the data table size in JMP.</p>
            </feedback>
          </condition>
        </var>
      </setup>
    <solution>
      <p>297,798 observations</p>
    </solution>
  </exercise>
  
  <p>Now use technology to create a dotplot of the birth weights.</p>
  
  <exercise xml:id="tech-detour-dotplots">
    <title>Technology Detour <mdash/> Creating Dotplots</title>
    <statement>
      <p>Use technology to create a dotplot of the birth weights. Assuming you imported the data into "births".</p>
    <hint>
      <title>R Instructions</title>
      <p>Use the <c>iscamdotplot</c> function to create a dotplot:</p>
      <program language="r">
        <input>
nrow(births)           # Counts the number of observations
names(births)          # Shows the variable names for your data
iscamdotplot(births$birthweight,     # Use file name $ variable name
  xlab="birth weight (g)",           # Can add nicer horizontal axis label
  main="graph of birthwt")           # Can add title
        </input>
      </program>
      <p>Expected output:</p>
      <image source="images/firstRdotplot.jpg" width="60%">
        <description>R dotplot of birth weights showing distribution</description>
      </image>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p><ul>
        <li><p>Select <alert>Graph &gt; Graph Builder</alert></p></li>
        <li><p>Drag the birthweight variable from the list on the left to the X axis.</p></li>
        <li><p>Select the far left graph type that is only dots.</p></li>
        <li><p>Use the pull-down menu to change the Jitter style to <alert>Positive Grid</alert>.</p></li>
      </ul></p>
      <image source="images/JMPdotplot.png" width="40%">
        <description>JMP Graph Builder interface for creating dotplots</description>
      </image>
      <p>Expected output:</p>
      <image source="images/firstJMPdotplot.jpg" width="60%">
        <description>JMP dotplot of birth weights showing distribution</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>A dotplot shows each numerical value individually (and is best with smaller datasets). Some packages may actually "bin" the values if the data set is large. If the dataset includes many distinct (non-repeated) values, this can make it more difficult to see the "clumping" in the data.</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-c" label="I2.1c">
    <title>Describe dotplot</title>
    <statement>
      <p>Describe what you see.</p>
    </statement>
    <solution>
      <p>There are too many observations to display well in the dotplot, but we do notice a "stack" by itself around 10,000.</p>
    </solution>
    <response/>
  </exercise>
  
  <paragraphs>
    <title>Handling Missing Data</title>
    
    <p>The observations at 9999 don't seem to belong. The User Guide or "codebook" for these data states that the largest birth weight is 8165 grams and for other variables it lists 99, 999, or 9999 as values for "not stated" or unknown.</p>

    <image source="images/codebooksnippet.png" width="100%">
      <description>Snippet from CDC codebook showing data positions</description>
    </image>
    
    <p>You could convert these observations to the missing value designator in your software or you can create a new data set that does not include those rows (subsetting the data).</p>
    
    <aside>
      <title>R Note</title>
      <p>Missing values are represented as <c>NaN</c> in R.</p>
    </aside>
    
    <aside>
      <title>JMP Note</title>
      <p>Missing values are represented as <c>•</c> in JMP.</p>
    </aside>
  </paragraphs>
  
  <exercise xml:id="tech-detour-subsetting">
    <title>Technology Detour <mdash/> Subsetting the Data</title>
    <statement>
      <p>Remove the observations with birthweight = 9999 (missing values) from the dataset.</p>
    <hint>
      <title>R Instructions</title>
      <p>Use logical subsetting to create a new dataset without the missing values:</p>
      <program language="r">
        <input>
births2 = births[which(births$birthweight &lt; 9999), ]  # selects rows that satisfy condition
                                                         # notice the comma!
nrow(births2)
# Refer to the new data using births2$birthweight
        </input>
      </program>
      <p>Expected output: 297,558 births</p>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p><ol>
        <li><p>Use the Rows menu to select Row Selection &gt; Select Where</p></li>
        <li><p>Specify you want to select the rows where birth weight is equals 9999</p></li>
        <li><p>Press OK.</p></li>
        <li><p>Then select Rows &gt; Hide and Exclude</p></li>
      </ol></p>
      <image source="images/JMProwselection.png" width="60%">
        <description>JMP Row Selection dialog for subsetting data</description>
      </image>
      <p>Expected output:</p>
      <image source="images/Inv2-1h-solsJMP3.jpg" width="40%">
        <description>JMP data table with excluded rows</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>After subsetting, you should have 297,558 observations (240 rows with birthweight = 9999 were removed from the original 297,798 observations).</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-d" label="I2.1d">
    <title>Recreate dotplot with subsetted data</title>
    <statement>
      <p>Recreate the dotplot with the subsetted data and describe what you see.</p>
    <hint>
      <title>R Output</title>
      <image source="images/secondRdotplot.jpg" width="60%">
        <description>R dotplot of subsetted birth weights</description>
      </image>
    </hint>
    <hint>
      <title>JMP Output</title>
      <image source="images/secondJMPdotplot.png" width="60%">
        <description>JMP dotplot of subsetted birth weights</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>We now have 297,558 observations. The stack is gone and we see a distribution with a center around 3000 grams and most of the observations between 1800 and 4500 grams.</p>
    </solution>
    <response/>
  </exercise>
  
  <paragraphs>
    <title>Using Histograms</title>
    
    <p>It may still be difficult to see much in the dotplot with such a large data set, especially if there are many distinct (non-repeated) values. One solution is to "bin" the observations. Some software packages (e.g., Minitab) will do that automatically even with a dotplot. Another approach is to use a different type of graph, a histogram, that groups the data into intervals of equal width (e.g., 1000-2000, 2000-3000, …) and then construct a bar for each interval with the height of the bar representing the number or proportion of observations in that interval. Notice these bars will be touching, unlike in a bar graph, to represent the continuous rather than categorical nature of the data.</p>
  </paragraphs>
  
  <exercise xml:id="tech-detour-histograms">
    <title>Technology Detour <mdash/> Creating Histograms</title>
    <statement>
      <p>Create a histogram for the subsetted birth weight data (<c>births2</c>).</p>
    <hint>
      <title>R Instructions</title>
      <p>Use the <c>hist</c> function to create a histogram:</p>
      <program language="r">
        <input>
hist(births2$birthweight, xlab="birth weight")
# Note you can also use breaks=x to change the number of intervals to x.
        </input>
      </program>
      <p>Expected output:</p>
      <image source="images/histogramR.jpg" width="60%">
        <description>R histogram of birth weights showing distribution</description>
      </image>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p><ol>
        <li><p>Choose Analyze &gt; Distribution</p></li>
        <li><p>Drag birth weight to the Y, Columns box (or click on it and press the button)</p></li>
        <li><p>Click OK.</p></li>
        <li><p>Use the hot spot and choose Histogram Options &gt; Vertical (to unselect).</p></li>
        <li><p>Right click on one of the values and select Add Axis Label and enter the variable description.</p></li>
        <li><p>See File &gt; Preferences to change some of the default settings</p></li>
      </ol></p>
      <image source="images/JMPAnalyzeDistribution.png" width="60%">
        <description>JMP Analyze Distribution dialog for creating histograms</description>
      </image>
      <p>Expected output:</p>
      <image source="images/histogramJMP.png" width="60%">
        <description>JMP histogram of birth weights showing distribution</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>A histogram groups data into intervals of equal width and displays bars with heights representing the frequency or proportion of observations in each interval. The bars touch each other to represent the continuous nature of quantitative data.</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-e" label="I2.1e">
    <title>Compare dotplot and histogram</title>
    <statement>
      <p>Create a histogram for the subsetted data (<c>births2</c>) and compare the information revealed by the dotplots and the histograms. Do you feel one display is more effective at displaying information about birth weights than the other? Explain.</p>
    </statement>
    <solution>
      <p>The histogram is more effective; the dataset is too large to show individual dots.</p>
    </solution>
    <response/>
  </exercise>
  
  <assemblage xml:id="describing-distributions">
    <title>Describing Distributions of Quantitative Data</title>
    
    <p>In describing the distribution of quantitative data, there are three main features:</p>
    
    <p><ul>
      <li><p><term>Shape:</term> What is the pattern to the distribution? Is it symmetric or skewed? Is it unimodal or is there more than one main peak/cluster? Are there any individual observations that stand out/don't follow the overall pattern? If so, investigate these "outliers" and see whether you can explain why they are there.</p>
      
      <sidebyside widths="30% 30% 30%">
        <stack>
          <p><alert>Symmetric</alert></p>
          <image source="images/symm1.png" width="100%">
            <description>Example of a symmetric distribution</description>
          </image>
        </stack>
        <stack>
          <p><alert>Skewed to the Right</alert></p>
          <image source="images/skewedright.png" width="100%">
            <description>Example of a right-skewed distribution</description>
          </image>
        </stack>
        <stack>
          <p><alert>Skewed to the Left</alert></p>
          <image source="images/skewedleft.png" width="100%">
            <description>Example of a left-skewed distribution</description>
          </image>
        </stack>
      </sidebyside>
      </li>
      
      <li><p><term>Center:</term> Where is the distribution centered or clustered? What are typical values?</p></li>
      
      <li><p><term>Variability:</term> How spread out is the distribution? How far do the observations tend to fall from the middle of the distribution? What is the overall range (max – min) of the distribution?</p></li>
    </ul></p>
    
    <p>It is also very important to note any observations that do not follow the overall pattern (e.g., "outliers") as they may reveal errors in the data or other important features to pay attention to.</p>
  </assemblage>
  
  <exercise xml:id="inv2-1-f" label="I2.1f">
    <title>Characterize the distribution</title>
    <statement>
      <p>How would you characterize the shape, center, and variability of these birthweights? (Remember to put your comments in context, e.g., "The distribution of January birthweights in 2024 was …")</p>
    </statement>
    <solution>
      <p>The distribution of January 2024 birthweights was slightly skewed to the left. Most of the weights are between 2000 and 5000 grams, with a peak around 3200 grams.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="inv2-1-g" label="I2.1g">
    <title>Explain lower weight babies</title>
    <statement>
      <p>You may have noticed a few more lower weight babies than we might have expected (if we assume a "random" biological characteristic will be fairly symmetric and bell-shaped). Can you suggest an explanation for the excess of lower birth weights seen in this distribution?</p>
    </statement>
    <solution>
      <p>Premature births?</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="inv2-1-h" label="I2.1h">
    <title>Subset by gestation period</title>
    <statement>
      <p>Now, further subset the <c>births2</c> data based on whether or not the pregnancy lasted at least 37 weeks. How many observations do you end up with?</p>
    <hint>
      <title>R Hints</title>
      <p>Edit the previous command, using births2 (two places). Use "==" for an equality comparison (i.e., <c>OEG == 2</c>).</p>
    </hint>
    <hint>
      <title>JMP Hints</title>
        <image source="images/Inv2-1h-solsJMP.png" width="60%">
          <description>JMP output showing selected rows</description>
        </image>
    </hint>
    </statement>
    <setup>
      <var>
        <condition number="265676" tolerance="0">
          <feedback>
            <p>Correct! After subsetting to full-term births (at least 37 weeks gestation), you have 265,676 observations.</p>
          </feedback>
        </condition>
        <condition string=".*">
          <feedback>
            <p>Check your subsetting command. Make sure you're selecting observations where OEG == 2 (full-term births) from the births2 dataset.</p>
          </feedback>
        </condition>
      </var>
    </setup>
    <solution>
      <p>265,676 observations</p>
      <p>R command: <c>births3=births2[which(births2$OEG == 2 ), ]</c></p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="inv2-1-i" label="I2.1i">
    <title>Assess symmetry after subsetting</title>
    <statement>
      <p>After this step do we have a more symmetric distribution? <var width="30"/></p>
    </statement>
      <setup>
        <var>
          <condition string="(?i)^(yes|y)$">
            <feedback>
              <p>Correct! The distribution does appear more symmetric after removing premature births.</p>
            </feedback>
          </condition>
          <condition string="(?i).*(more|symmetric).*">
            <feedback>
              <p>You're on the right track. A simple "yes" answer is sufficient here.</p>
            </feedback>
          </condition>
          <condition string=".*">
            <feedback>
              <p>After removing premature births, does the distribution look more symmetric? Consider the shape of the histogram.</p>
            </feedback>
          </condition>
        </var>
      </setup>
    <response/>
    <solution>
      <p>The distribution does look more symmetric, however we can no longer generalize any of our conclusions to premature babies.</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-i2" label="I2.1i2">
    <title>Downside of subsetting</title>
    <statement>
      <p>What is a downside to subsetting the dataset in this way?</p>
    </statement>
    <solution>
      <p>We can no longer generalize any of our conclusions to premature babies.</p>
    </solution>
    <response/>
  </exercise>
  
  <paragraphs>
    <title>Numerical Summaries</title>
    
    <p>Let's use this as our final dataset and use technology to calculate some helpful numerical summaries of the distribution, namely ones that describe the center (e.g., mean, median), variability (e.g., standard deviation), and skewness. The <term>skewness statistic</term> involves <m>\Sigma((y_i-\bar{y})/s)^3</m>, so positive values indicate a distribution that is skewed right, negative values indicate a distribution that is skewed left, and values near zero indicate a symmetric distribution.</p>
  </paragraphs>
  
  <exercise xml:id="tech-detour-numerical-summaries">
    <title>Technology Detour <mdash/> Numerical Summaries</title>
    <statement>
      <p>Calculate numerical summaries (mean, median, standard deviation, skewness) for the subsetted birth weight data (births3).</p>
    <hint>
      <title>R Instructions</title>
      <p>Use the <c>iscamsummary</c> function to get numerical summaries:</p>
      <program language="r">
        <input>
attach(births3)    # Optional step if this is final data to work with
iscamsummary(births3$birthweight, digits=2)
# Entering "digits = " specifies the number of digits you want displayed 
# after the decimal. Default is 3.
        </input>
      </program>
      <p>Expected output:</p>
      <image source="images/Inv2-1j-solsR.jpg" width="60%">
        <description>R numerical summaries for birth weights</description>
      </image>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p>See the Analyze &gt; Distribution output from creating the histogram and/or use Analyze &gt; Tabulate for custom summaries.</p>
      <p>Expected output:</p>
      <image source="images/Inv2-1j-solsJMP2.png" width="40%">
        <description>JMP numerical summaries for birth weights</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>The numerical summaries provide measures of center (mean, median), spread (standard deviation, IQR), and shape (skewness). These complement the visual displays and allow for more precise descriptions of the distribution.</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-j" label="I2.1j">
    <title>Report numerical summaries</title>
    <statement>
      <p>Determine the mean, standard deviation, and skewness of these data.</p>
      <p>Mean: <var width="10"/></p>
      <p>Standard deviation: <var width="10"/></p>
      <p>Skewness: <var width="10"/></p>
      </statement>
      <setup>
        <var>
          <condition number="3337" tolerance="5">
            <feedback>
              <p>Correct! The mean birth weight is approximately 3337 grams.</p>
            </feedback>
          </condition>
          <condition number="3337" tolerance="50">
            <feedback>
              <p>Close, but check your calculation. The mean should be around 3337 grams.</p>
            </feedback>
          </condition>
          <condition string=".*">
            <feedback>
              <p>Use the iscamsummary() function in R or Analyze &gt; Distribution in JMP to calculate the mean.</p>
            </feedback>
          </condition>
        </var>
        <var>
          <condition number="461" tolerance="3">
            <feedback>
              <p>Correct! The standard deviation is approximately 461 grams.</p>
            </feedback>
          </condition>
          <condition number="461" tolerance="30">
            <feedback>
              <p>Close, but check your calculation. The standard deviation should be around 461 grams.</p>
            </feedback>
          </condition>
          <condition string=".*">
            <feedback>
              <p>Use the iscamsummary() function in R or Analyze &gt; Distribution in JMP to calculate the standard deviation.</p>
            </feedback>
          </condition>
        </var>
        <var>
          <condition number="0.2" tolerance="0.15">
            <feedback>
              <p>Correct! The skewness is slightly positive, indicating a slight right skew.</p>
            </feedback>
          </condition>
          <condition number="0" tolerance="1">
            <feedback>
              <p>Check your calculation. The skewness should be a small positive value close to 0.</p>
            </feedback>
          </condition>
          <condition string=".*">
            <feedback>
              <p>Use the iscamsummary() function in R to calculate the skewness statistic.</p>
            </feedback>
          </condition>
        </var>
      </setup>
    <response/>
  </exercise>
  
  <exercise xml:id="inv2-1-j2" label="I2.1j2">
    <title>Interpret numerical summaries</title>
    <statement>
      <p>Interpret the mean, standard deviation, and skewness values in context.</p>
    </statement>
    <solution>
      <p>The mean tells us the average birthweight of these full term babies was 3336.6 grams.</p>
      <p>The standard deviation tells us that a "typical" deviation from the mean was 460.6 grams.</p>
      <p>The skewness statistic is slightly positive indicating a few larger observations.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="inv2-1-k" label="I2.1k">
    <title>Effect of outliers</title>
    <statement>
      <p>How would the mean and standard deviations values compare if we had not removed the 9999 and low birthweight values?</p>
    </statement>
    <solution>
      <p>The 9999 values would enlarge the mean and the standard deviation. The low birthweight babies would lower the mean but enlarge the standard deviation. A large number of low birthweight babies could even create a negative skewness statistic.</p>
    </solution>
    <response/>
  </exercise>
  
  <paragraphs xml:id="fitting-model">
    <title>Fitting a Model</title>
    
    <p>Recall from Chapter 1 the normal probability distribution has some very nice properties and allows us to predict the behavior of our variable. For example, we might want to assume birth weights follow a normal distribution and estimate how often a baby will be of low birth weight (under 2500 grams according to the International Statistical Classification of Diseases, 10th revision, World Health Organization, 2011) based on these data.</p>
  </paragraphs>
  
  <exercise xml:id="inv2-1-l" label="I2.1l">
    <title>Assess normality</title>
    <statement>
      <p>Do these birth weight data appear to behave like a normal distribution? How are you deciding?</p>
    </statement>
    <solution>
      <p>Discussion may vary.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="tech-detour-normal-overlay">
    <title>Technology Detour <mdash/> Normal Distribution Overlay</title>
    <statement>
      <p>Add an overlay of a theoretical normal distribution to see how well it matches the birth weight data, using the mean and standard deviation from the observed data.</p>
    <hint>
      <title>R Instructions</title>
      <p>First create a histogram, then use <c>iscamaddnorm</c> to add the normal curve overlay:</p>
      <program language="r">
        <input>
hist(births3$birthweight, xlab="birth weight (g)", main="Birth Weights with Normal Overlay")
iscamaddnorm(births3$birthweight)
        </input>
      </program>
      <p>Expected output:</p>
      <image source="images/Inv2-1m-solsR.jpg" width="60%">
        <description>R histogram with normal overlay for birth weights</description>
      </image>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p>In the Distribution output, use the red triangle (hot spot) next to the variable name and select Continuous Fit &gt; Normal.</p>
      <p>Expected output:</p>
      <image source="images/Inv2-1m-solsJMP.png" width="60%">
        <description>JMP histogram with normal overlay for birth weights</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>The normal curve overlay allows you to visually assess how well a normal distribution with the same mean and standard deviation fits your data. Look for areas where the bars deviate substantially from the curve.</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-m" label="I2.1m">
    <title>Assess normal overlay fit</title>
    <statement>
      <p>Discuss any deviations from the pattern of a normal distribution.</p>
    </statement>
    <solution>
      <p>The fit or agreement looks pretty good. Hard to see from this graph any obvious non-normal behavior, but we do notice some observations much further out in the tails than we might expect with a normal distribution.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="tech-detour-within-2sd">
    <title>Technology Detour <mdash/> Checking Normal Distribution Properties</title>
    <statement>
      <p>Another method for comparing your data to a theoretical normal distribution is to see whether certain properties of a normal distribution hold true. In Chapter 1, you learned that 95% of observations in a normal distribution should fall within two standard deviations of the mean.</p>
      <p>Calculate the percentage of the birthweights (in births3) that fall within 2 standard deviations of the mean.</p>
    <hint>
      <title>R Instructions</title>
      <p>Create a Boolean (true/false) variable to identify observations within 2 SD:</p>
      <program language="r">
        <input>
within2sd = (births3$birthweight &gt; mean(births3$birthweight) - 2*sd(births3$birthweight)) &amp; 
            (births3$birthweight &lt; mean(births3$birthweight) + 2*sd(births3$birthweight))
# Note: Make sure you copy this code with no line breaks
table(within2sd)/length(births3$birthweight)
        </input>
      </program>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p><ol>
        <li><p>Calculate (by hand) the mean ± 2SD limits using your numerical summaries.</p></li>
        <li><p>In the data window, double click on an empty column to activate it and name it "within2sd"</p></li>
        <li><p>Right click on the column name and select Formula</p></li>
        <li><p>From Functions (grouped) select Conditional. Enter conditions for birth weight to be between the two limits to equal 1, 0 otherwise.</p></li>
        <li><p>Then use Analyze &gt; Distribution on this column and report the mean (the proportion of ones).</p></li>
      </ol></p>
    </hint>
    </statement>
    <solution>
      <p>About 95% of these birthweights fall within two standard deviations of the mean birthweight, just as we would predict for a normal distribution.</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-n" label="I2.1n">
    <title>Percentage within 2 SD</title>
    <statement>
      <p>Report the percentage of the birthweights that fall within 2 standard deviations of the mean.</p>
      <p>Percentage: <var width="10"/>%</p>
  </statement>
      <setup>
        <var>
          <condition number="95" tolerance="1">
            <feedback>
              <p>Correct! Approximately 95% of the birthweights fall within 2 standard deviations of the mean, which matches the normal distribution prediction.</p>
            </feedback>
          </condition>
          <condition number="0.95" tolerance="0.01">
            <feedback>
              <p>Correct! Approximately 0.95 (or 95%) of the birthweights fall within 2 standard deviations of the mean.</p>
            </feedback>
          </condition>
          <condition number="95" tolerance="3">
            <feedback>
              <p>Close! Check your calculation. About 95% of the values should fall within 2 SD for a normal distribution.</p>
            </feedback>
          </condition>
          <condition string=".*">
            <feedback>
              <p>Calculate the proportion of observations where the birth weight falls between (mean - 2×SD) and (mean + 2×SD). Express as a percentage.</p>
            </feedback>
          </condition>
        </var>
      </setup>
    <solution>
      <p>Using the mean of 3339.1 and the standard deviation of 461.6, our 2SD limits would be 2415.9 and 4262.3. So then our ratio is 252915/265676 ≈ 0.95</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="inv2-1-o" label="I2.1o">
    <title>Compare to normal prediction</title>
    <statement>
      <p>How well does this percentage match to what would be predicted if the data were behaving like a normal distribution?</p>
    </statement>
    <solution>
      <p>Very close.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="tech-detour-normal-probability-plot">
    <title>Technology Detour <mdash/> Normal Probability Plots</title>
    <statement>
      <p>Create a normal probability plot (also called a quantile plot) for the subsetted birth weight data. Probability plots work by comparing the observed data to the <em>z</em>-scores expected for a normal distribution; if the points "line up" along a straight line, this supports that the data are behaving like a normal distribution.</p>
    <hint>
      <title>R Instructions</title>
      <p>Use the <c>qqnorm</c> and <c>qqline</c> functions to create a normal probability plot:</p>
      <program language="r">
        <input>
qqnorm(birthweight, datax=TRUE)    # "datax=TRUE" puts observed values on x-axis
qqline(birthweight, datax=TRUE)
        </input>
      </program>
      <p>Expected output:</p>
      <image source="images/Inv2-1p-solsR.jpg" width="60%">
        <description>R normal probability plot for birth weights</description>
      </image>
    </hint>
    <hint>
      <title>JMP Instructions</title>
      <p>In the Distribution window, use the red triangle (hot spot) next to the variable name and select Normal Quantile Plot.</p>
      <p>Expected output:</p>
      <image source="images/Inv2-1p-solsJMP.png" width="60%">
        <description>JMP normal probability plot for birth weights</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>A normal probability plot is often easier to interpret than comparing a histogram to a curve. If the points follow a straight line, the data are consistent with a normal distribution. Deviations from the line, especially in the tails, indicate departures from normality.</p>
    </solution>
  </exercise>
  
  <exercise xml:id="inv2-1-p" label="I2.1p">
    <title>Assess normal probability plot</title>
    <statement>
      <p>Do the observations deviate much from a line? If so how?</p>
    <hint>
      <p>What does this suggest about how the birth weight data values differ from what we would predict for a normal distribution (e.g., smallest values are smaller than expected or larger than expected)? Is this consistent with what you saw in the histogram?</p>
    </hint>
    </statement>
    <solution>
      <p>The graph is fairly linear except for the ends. The lowest values seem smaller than they should be and the largest values seem larger than they should be. You may or may not have seen these "heavier tails" as easily in the histogram.</p>
    </solution>
    <response/>
  </exercise>
  
  <paragraphs>
    <title>Discussion</title>
    
    <p>Some software packages report a p-value with the normal probability plot. The null hypothesis here is that the data do follow a normal distribution, so if you fail to reject this null hypothesis you can say that the data do not provide strong evidence that they do not arise from a normally distributed population. (But keep in mind that large sample sizes will drive the p-value down, regardless of the actual shape of the population.) There are several different types of significance tests for normality, but in this text, we will focus on the visual judgement of whether the probability plot appears to follow a straight line.</p>
  </paragraphs>
  
  <p>Suppose we were willing to assume that in general birth weights are approximately normally distributed with mean 3339 grams and standard deviation 462 grams. We can use this model to make predictions, like how often a baby will be of low birth weight, defined as 2500 grams or less.</p>
  
  <exercise xml:id="inv2-1-q" label="I2.1q">
    <title>Calculate low birth weight probability</title>
    <statement>
      <p>Use technology (e.g., <url href="https://www.rossmanchance.com/applets/2021/normcalc/NormCalc.html?hideExtras=1">Normal Probability Calculator applet</url>) to calculate the normal distribution probability that a randomly selected baby will be of low birth weight. (Be sure to make sure your answer is consistent with a well-labeled sketch with the shaded area of interest!)</p>
    <hint>
      <p>Expected output:</p>
      <image source="images/Inv2-1q-sols.jpg" width="60%">
        <description>Normal probability calculation for low birth weight</description>
      </image>
    </hint>
      <p>probability: <var width="10"/></p>
      </statement>
      <setup>
        <var>
          <condition number="0.035" tolerance="0.005">
            <feedback>
              <p>Correct! The probability is approximately 0.035 (or 3.5%).</p>
            </feedback>
          </condition>
          <condition number="3.5" tolerance="0.5">
            <feedback>
              <p>Correct! The probability is approximately 3.5% (or 0.035).</p>
            </feedback>
          </condition>
          <condition number="0.035" tolerance="0.015">
            <feedback>
              <p>Close! Check your calculation using the normal distribution with mean 3339 and SD 462.</p>
            </feedback>
          </condition>
          <condition string=".*">
            <feedback>
              <p>Use the Normal Probability Calculator with mean=3339, SD=462, and find P(X ≤ 2500). Express as a proportion or percentage.</p>
            </feedback>
          </condition>
        </var>
      </setup>
    <solution>
      <p>We estimate that in the long run about 3.5% of full term babies will be of low birth weight.</p>
    </solution>
    <response/>
  </exercise>
  
  <exercise xml:id="inv2-1-r" label="I2.1r">
    <title>Compare to actual data</title>
    <statement>
      <p>Now examine the <c>births3</c> data: What percentage of the birth weights in this data set were at most 2500 grams? [Hint: Create a Boolean variable?] How does this compare to <xref ref="inv2-1-q" text="custom">the prediction in the previous question</xref>? Does this surprise you? Explain.</p>
    <hint>
      <p>Expected output:</p>
      <image source="images/Inv2-1r-sols.png" width="60%">
        <description>Calculation showing percentage of low birth weights in data</description>
      </image>
    </hint>
    </statement>
    <solution>
      <p>In this sample, 3.2% of the full term babies were of low birth weight. Using the normal distribution very slightly overpredicted how often this would happen. We might have expected the normal distribution to underpredict based on the heavier tails in the sample we saw earlier, though it is less about the percentage "out there" and more about how far out there based on 95% of the distribution falling within 2SD but still seeing the heavier tails in the normal probability plot.</p>
    </solution>
    <response/>
  </exercise>
  
  <conclusion>
    <paragraphs>
      <title>Discussion</title>
      <p>We can often use a theoretical model to predict how data will behave. However, it is often unclear whether the model we are using is appropriate. Sometimes we have to consider the context (e.g., biological characteristic) and presume a particular model. We can also use existing data to create a model, 
    but we need to consider what population the data are representative of and how 
    stable we think the data generating process is (e.g., not changing over time). 
    In this case, a normal distribution predicts 3.5% of babies will be of low birth weight (compared to 3.2% in the data file) and that about 5% of birth weights will be beyond two standard deviations from the mean (compared to 4.8% in the dataset). The 
    model appears to be quite accurate (once we remove the non full term babies and missing values) and useful for other predictions.</p>
    </paragraphs>
  </conclusion>
  
  </exercises>
  <subsection xml:id="practice2-1A">
    <title>Practice Problem 2.1A</title>
    
    <p>The data in <url href="https://www.rossmanchance.com/chance/stat301W24/data/MLB_FCI_22.txt" visual="rossmanchance.com/chance/stat301W24/data/MLB_FCI_22.txt">MLB_FCI_22.txt</url>, compiled by <url href="https://mailchi.mp/teammarketing/2022-mlb-fan-cost-index" visual="mailchi.mp/teammarketing/2022-mlb-fan-cost-index">Team Marketing Report</url>, includes various costs for attending a Major League Baseball game in the 2022 season. The "Fan Cost Index" is defined as the price of a family of four to attend a game, assuming 4 adult average-price tickets, parking for one car, and the cheapest (at that park) price for two draft beers, four soft drinks, four hot dogs, and two caps.</p>
    
    <p><em>Note: Make sure the columns parse correctly (e.g., Data &gt; Text to Columns in Excel?) and remove the last row before you start analyzing the data.</em></p>
    
    <exercise xml:id="practice-2-1a-a" label="PP2.1A.1">
      <title>Compare dotplot and histogram</title>
      <statement>
        <p>Create and include a dotplot and a histogram of the FCI values. Which graph do you prefer? Why?</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1a-b" label="PP2.1A.2">
      <title>Assess normality with probability plot</title>
      <statement>
        <p>Create and include a normal probability plot of the FCI values. What do you conclude from this graph? Explain your reasoning.</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1a-c" label="PP2.1A.3">
      <title>Analyze FCIPctChange distribution</title>
      <statement>
        <p>Create and include a dotplot of the FCIPctChange values which represent the percentage change in the FCI values from the previous year. Also report and summarize what you learn from the median.</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1a-d" label="PP2.1A.4">
      <title>Identify outlier team</title>
      <statement>
        <p>The distribution of the FCIPctChange values shows a low visual outlier. Identify this team by name. What is special about this team?</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1a-e" label="PP2.1A.5">
      <title>Identify unusual cap price</title>
      <statement>
        <p>Examine and include a stemplot of the cap prices. We see one team with an unusual value. Identify this team by name and suggest an explanation for its unusual cap price.</p>
      <hint>
        <p>We are not talking about the largest or smallest value this time!</p>
      </hint>
      </statement>
      <response/>
    </exercise>
  </subsection>
  
  <subsection xml:id="practice2-1B">
    <title>Practice Problem 2.1B</title>
    
    <p>The <url href="https://www.rossmanchance.com/iscam4/data/AnthemTimes2025.txt" visual="rossmanchance.com/iscam4/data/AnthemTimes2025.txt">AnthemTimes2025.txt</url> file has data on the length of the performance of the national anthem preceding the National Football League's Super Bowl for games from 1980 (Super Bowl 14) to 2025 (Super Bowl 58). Note: There are two columns for times (the first is from a colleague of mine watching and timing each one, the second one is from <url href="https://www.sportsbettingdime.com/guides/resources/super-bowl-national-anthem-lengths-over-under-betting-results/" visual="sportsbettingdime.com">sportsbettingdime</url>). Using sbdTime:</p>
    
    <exercise xml:id="practice-2-1b-a" label="PP2.1B.1">
      <title>Create dotplot with active title</title>
      <statement>
        <p>Create and include a well-labeled dotplot of the performance lengths. Include an "active title."</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1b-b" label="PP2.1B.2">
      <title>Describe distribution</title>
      <statement>
        <p>Give a brief description, in context, of the distribution, as if to someone who can't see your graph.</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1b-c" label="PP2.1B.3">
      <title>Create boxplot and identify outliers</title>
      <statement>
        <p>Create and include a modified boxplot of the performance lengths. Identify any outliers shown in the boxplot by name.</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1b-d" label="PP2.1B.4">
      <title>Report summary statistics</title>
      <statement>
        <p>Report the mean, median, and standard deviation. Include measurement units.</p>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1b-e" label="PP2.1B.5">
      <title>Predict next Super Bowl length</title>
      <statement>
        <p>Give one number to predict the performance length in the next Super Bowl. Also include some indication of how accurate you think your prediction will be. (Cite any external information/additional analysis that you use.)</p>
      </statement>
      <response/>
    </exercise>
  </subsection>
  
  <subsection xml:id="practice2-1C">
    <title>Practice Problem 2.1C</title>
    
    <exercise xml:id="practice-2-1c-a" label="PP2.1C.1">
      <title>Generate random normal data and create probability plot</title>
      <statement>
        <p>Use statistical software to generate a random sample of 100 observations from a normal distribution with mean 2 and standard deviation 5. Create a normal probability plot of the generated data. Do the data follow a straight line?</p>
      <hint>
        <title>In R</title>
        <p><c>mydata = rnorm(100, 2, 5)</c></p>
      </hint>
      <hint>
        <title>In JMP</title>
        <p>In new worksheet, choose Columns &gt; New Column. Under Initialize Data set the Number of rows to 100. Under Column Properties, select Formula. Then select Random &gt; Random Normal and specify (2,5).</p>
      </hint>
      </statement>
      <response/>
    </exercise>
    
    <exercise xml:id="practice-2-1c-b" label="PP2.1C.2">
      <title>Generate skewed data and compare probability plot</title>
      <statement>
        <p>Repeat the previous question for data that are skewed to the right. How does the behavior of the probability plot change? How would you interpret this plot without looking at the histogram?</p>
      <hint>
        <title>In R</title>
        <p><c>mydata = rchisq(100, 2)</c></p>
      </hint>
      <hint>
        <title>In JMP</title>
        <p>Select Random &gt; Random ChiSquare and enter 2 as the "df"</p>
      </hint>
      </statement>
      <response/>
    </exercise>
  </subsection>
  
</section>
